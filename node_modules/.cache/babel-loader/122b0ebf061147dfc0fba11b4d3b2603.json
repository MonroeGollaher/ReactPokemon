{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/monroegollaher/source/reactpokemon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/monroegollaher/source/reactpokemon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/monroegollaher/source/reactpokemon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{getPokemon,setPokemon}from\"./services/PokemonService\";import Card from'./components/Card/Card';import Header from'./components/Header/Header';import'bootstrap/dist/css/bootstrap.min.css';import Button from'react-bootstrap/Button';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemonData=_useState2[0],setPokemonData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nextUrl=_useState4[0],setNextUrl=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),prevUrl=_useState6[0],setPrevUrl=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var initUrl='https://pokeapi.co/api/v2/pokemon';useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPokemon(initUrl);case 2:res=_context.sent;setNextUrl(res.next);setPrevUrl(res.previous);_context.next=7;return loadPokemon(res.results);case 7:setLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var loadPokemon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){var _pokemonData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Promise.all(data.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(pokemon){var pokemonRecord;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setPokemon(pokemon.url);case 2:pokemonRecord=_context2.sent;return _context2.abrupt(\"return\",pokemonRecord);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()));case 2:_pokemonData=_context3.sent;setPokemonData(_pokemonData);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function loadPokemon(_x){return _ref.apply(this,arguments);};}();var next=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);_context4.next=3;return getPokemon(nextUrl);case 3:data=_context4.sent;_context4.next=6;return loadPokemon(data.results);case 6:setNextUrl(data.next);setPrevUrl(data.previous);setLoading(false);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function next(){return _ref3.apply(this,arguments);};}();var prev=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(prevUrl){_context5.next=2;break;}return _context5.abrupt(\"return\");case 2:setLoading(true);_context5.next=5;return getPokemon(prevUrl);case 5:data=_context5.sent;_context5.next=8;return loadPokemon(data.results);case 8:setNextUrl(data.next);setPrevUrl(data.previous);setLoading(false);case 11:case\"end\":return _context5.stop();}}},_callee5);}));return function prev(){return _ref4.apply(this,arguments);};}();var searchResults=pokemonData.filter(function(p){return p.name.toLowerCase().includes(search.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row search-box justify-content-center pt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",onChange:function onChange(e){return setSearch(e.target.value);},className:\"search-bar shadow\"})})}),loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading Pokemon...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:searchResults.map(function(pokemon,index){return/*#__PURE__*/_jsx(Card,{name:pokemon.name,imgUrl:pokemon.sprites.other[\"official-artwork\"].front_default,rank:pokemon.id,stats:pokemon.stats,pokeType:pokemon.types[0].type.name},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center pb-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:prev,className:\"btn mx-2\",children:\"Prev\"}),/*#__PURE__*/_jsx(Button,{onClick:next,className:\"btn mx-2\",children:\"Next\"})]})]})]});}export default App;","map":{"version":3,"sources":["/Users/monroegollaher/source/reactpokemon/src/App.js"],"names":["React","useState","useEffect","getPokemon","setPokemon","Card","Header","Button","App","pokemonData","setPokemonData","nextUrl","setNextUrl","prevUrl","setPrevUrl","loading","setLoading","search","setSearch","initUrl","fetchData","res","next","previous","loadPokemon","results","data","Promise","all","map","pokemon","url","pokemonRecord","_pokemonData","prev","searchResults","filter","p","name","toLowerCase","includes","e","target","value","index","sprites","other","front_default","id","stats","types","type"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport { getPokemon, setPokemon } from \"./services/PokemonService\";\nimport Card from './components/Card/Card'; \nimport Header from './components/Header/Header';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\n\nfunction App() {\n  const [pokemonData, setPokemonData] = useState([]);\n  const [nextUrl, setNextUrl] = useState('');\n  const [prevUrl, setPrevUrl] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const initUrl = 'https://pokeapi.co/api/v2/pokemon'; \n\n  useEffect(() => {\n    async function fetchData() {\n      let res = await getPokemon(initUrl);\n      setNextUrl(res.next);\n      setPrevUrl(res.previous);\n      await loadPokemon(res.results);\n      setLoading(false);\n    }\n    fetchData();\n  }, []); \n\n  const loadPokemon = async (data) => {\n    let _pokemonData = await Promise.all(data.map(async pokemon => {\n      let pokemonRecord = await setPokemon(pokemon.url);\n      return pokemonRecord;\n    }))\n    setPokemonData(_pokemonData);\n  }\n\n  const next = async () => {\n    setLoading(true);\n    let data = await getPokemon(nextUrl);\n    await loadPokemon(data.results);\n    setNextUrl(data.next);\n    setPrevUrl(data.previous);\n    setLoading(false);\n  }\n\n  const prev = async () => {\n    if (!prevUrl) return;\n    setLoading(true);\n    let data = await getPokemon(prevUrl);\n    await loadPokemon(data.results);\n    setNextUrl(data.next);\n    setPrevUrl(data.previous);\n    setLoading(false);\n  }\n\n  const searchResults = pokemonData.filter( p => {\n    return p.name.toLowerCase().includes(search.toLowerCase())\n  })\n\n  return (\n    <div className=\"App\">\n      <div className=\"row justify-content-center\">\n        <Header />  \n      </div>\n      <div className=\"row search-box justify-content-center pt-4\">\n        <div className=\"col-md-6\">\n          <input \n            type=\"text\" \n            placeholder=\"Search...\" \n            onChange={ e => setSearch(e.target.value) }\n            className=\"search-bar shadow\"\n          />\n        </div>\n      </div>\n\n      { \n        loading  ? <h1>Loading Pokemon...</h1> : (\n          <>\n          <div className=\"row justify-content-center\">\n            { searchResults.map((pokemon, index) => {\n              return (\n                <Card \n                  key={index}\n                  name={pokemon.name}\n                  imgUrl={pokemon.sprites.other[\"official-artwork\"].front_default}\n                  rank={pokemon.id}\n                  stats={pokemon.stats}\n                  pokeType={pokemon.types[0].type.name}\n                />\n              )\n            })}\n          </div>\n          <div className=\"row justify-content-center pb-4\">\n            <Button \n              onClick={prev}\n              className=\"btn mx-2\"\n            > \n              Prev \n            </Button>\n            <Button \n              onClick={next}\n              className=\"btn mx-2\"\n            >\n              Next\n            </Button>\n          </div>\n          </>\n        )\n      }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}